<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ShutterPhrase | Premium Visual Storytelling</title>

<script>
/* ================= CONFIG ================= */

const SHOWREEL_VIDEO_ID = "1Xmu3M0J1H1VnoMm2FnZ-wKdMgRH7xof2";

const GALLERY_ITEMS = [

    {
        category: "Portraits",
        title: "Eternal Grace",
        cover: "14VjUYVjbusBC71w17REfJo_524W0Lg2L",
        size: "item-lg",
        images: [
            "14VjUYVjbusBC71w17REfJo_524W0Lg2L",
            "1SEr_A7WZ9lwjDVjGt7hvMaHIgPd-k1Fb",
            "1F-VUrAV0rYdshimhc3VRtw84w1IdM3IC",
            "1Y2Faudr3b2MYDSvxGJdHgePy_UV4RvRy",
            "1ZxuytU2DSyimdnpRuR8cFK8PBQFbTQhL",
            "1rXxDLoeQKZoAeGj-rBhXm6l3QsltCrxP"
        ]
    },

    {
        category: "Sports",
        title: "The Decisive Moment",
        cover: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32",
        size: "",
        images: [
            "https://images.unsplash.com/photo-1516035069371-29a1b244cc32"
        ]
    },

    {
        category: "Product",
        title: "The Craft",
        cover: "https://images.unsplash.com/photo-1542038784456-1ea8e935640e",
        size: "",
        images: [
            "https://images.unsplash.com/photo-1542038784456-1ea8e935640e"
        ]
    },

    {
        category: "Creative / Editorial",
        title: "Visual Experiments",
        cover: "https://images.unsplash.com/photo-1492691527719-9d1e07e534b4",
        size: "item-tall",
        images: [
            "https://images.unsplash.com/photo-1492691527719-9d1e07e534b4"
        ]
    },

    {
        category: "Festivals",
        title: "Cultural Pulse",
        cover: "https://images.unsplash.com/photo-1511795409834-ef04bbd61622",
        size: "",
        images: [
            "https://images.unsplash.com/photo-1511795409834-ef04bbd61622"
        ]
    }
];

/* ================= HELPERS ================= */

function cleanId(input) {
    if (!input) return null;
    if (!input.includes("http")) return input;

    const match = input.match(/\/d\/([a-zA-Z0-9_-]{25,})/);
    return match ? match[1] : input;
}

function getImageUrl(id) {
    if (id.startsWith('http')) return id;
    return `https://lh3.googleusercontent.com/d/${id}=s1600`;
}

function getVideoEmbedUrl(id) {
    return `https://drive.google.com/file/d/${id}/preview`;
}
</script>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond&family=Inter&display=swap" rel="stylesheet">
<script src="https://unpkg.com/lucide@latest"></script>

<style>
body { background:#070707; color:white; font-family:Inter; margin:0; }
nav { padding:20px; display:flex; justify-content:space-between; }
.logo { font-family:Cormorant Garamond; }
section { padding:100px 8%; }
.portfolio-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:30px; }
.portfolio-item { position:relative; cursor:pointer; }
.portfolio-item img { width:100%; height:100%; object-fit:cover; }
.item-lg { grid-column:span 2; }
.item-tall { grid-row:span 2; }
.item-overlay { position:absolute; bottom:0; padding:20px; }
#lightbox { position:fixed; top:0; left:0; width:100%; height:100%; background:black; display:none; justify-content:center; align-items:center; }
#lightbox.active { display:flex; }
.lb-image { max-width:90%; max-height:90%; }
</style>
</head>

<body>

<nav>
    <div class="logo">SHUTTERPHRASE</div>
</nav>

<section id="showreel">
    <iframe id="mainShowreel" width="100%" height="500"></iframe>
</section>

<section id="portfolio">
    <div class="portfolio-grid" id="mainGrid"></div>
</section>

<div id="lightbox">
    <img id="lbImage" class="lb-image">
</div>

<script>
let currentImageIndex = 0;
let activeGallery = [];

window.onload = () => {
    lucide.createIcons();
    initShowreel();
    renderPortfolio();
};

function initShowreel(){
    document.getElementById("mainShowreel").src = getVideoEmbedUrl(SHOWREEL_VIDEO_ID);
}

function renderPortfolio(){
    const grid = document.getElementById('mainGrid');

    GALLERY_ITEMS.forEach((item,index)=>{
        const div = document.createElement('div');
        div.className = `portfolio-item ${item.size}`;
        div.onclick = ()=>openLightbox(index);

        div.innerHTML = `
            <img src="${getImageUrl(item.cover)}">
            <div class="item-overlay">
                <div>${item.category}</div>
                <h3>${item.title}</h3>
            </div>
        `;

        grid.appendChild(div);
    });
}

function openLightbox(index){
    activeGallery = GALLERY_ITEMS[index].images;
    currentImageIndex = 0;
    updateLightbox();
    document.getElementById("lightbox").classList.add("active");
}

function updateLightbox(){
    document.getElementById("lbImage").src = getImageUrl(activeGallery[currentImageIndex]);
}

document.getElementById("lightbox").onclick = ()=>{
    document.getElementById("lightbox").classList.remove("active");
};
</script>

</body>
</html>
