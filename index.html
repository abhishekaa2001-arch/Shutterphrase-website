<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<title>ShutterPhrase</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root {
    --pad-x: 6%;
    --pad-y: 80px;
    --grid-gap: 24px;
}

@media (min-width: 768px) {
    :root {
        --pad-x: 8%;
        --pad-y: 100px;
        --grid-gap: 40px;
    }
}

@media (min-width: 1024px) {
    :root {
        --pad-x: 10%;
        --pad-y: 130px;
        --grid-gap: 50px;
    }
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background: #050505;
    color: #f5f5f5;
    font-family: Inter, sans-serif;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
}

section { 
    padding: var(--pad-y) var(--pad-x); 
    max-width: 1800px;
    margin: 0 auto;
}

h2 {
    font-family: "Cormorant Garamond", serif;
    font-size: clamp(2rem, 5vw, 3.5rem);
    letter-spacing: .5px;
    line-height: 1.1;
}

/* ================= NAV ================= */
nav {
    padding: 25px var(--pad-x);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
    max-width: 1800px;
    margin: 0 auto;
}

@media (min-width: 768px) {
    nav {
        flex-direction: row;
        justify-content: space-between;
        padding: 35px var(--pad-x);
    }
}

nav img { 
    height: 24px; 
    opacity: .9; 
    transition: 0.3s;
}

@media (min-width: 768px) {
    nav img { height: 28px; }
}

nav div { 
    display: flex; 
    gap: 25px; 
    flex-wrap: wrap;
    justify-content: center;
}

@media (min-width: 768px) {
    nav div { gap: 35px; }
}

nav a {
    color: white;
    text-decoration: none;
    font-size: .75rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    opacity: .7;
    transition: .3s;
    display: flex;
    align-items: center;
    padding: 8px 0; /* Touch target size */
}

nav a:hover { opacity: 1; }

/* ================= SHOWREEL ================= */
.swipe-hint {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.6);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: -15px; /* Pull the wrapper closer */
    margin-top: -20px;
    gap: 8px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; transform: translateX(3px); }
}

@media (min-width: 768px) {
    .swipe-hint { display: none; } /* Hide on desktop */
}

.showreel-wrapper {
    display: flex;
    gap: 20px;
    margin-top: 40px;
    
    /* Mobile Horizontal Scroll */
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding-bottom: 30px; /* Space for scrollbar/shadows */
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
}
.showreel-wrapper::-webkit-scrollbar { display: none; /* Chrome/Safari */ }

@media (min-width: 768px) {
    .showreel-wrapper {
        justify-content: center;
        gap: 40px;
        flex-wrap: wrap;
        overflow-x: visible;
        margin-top: 60px;
        padding-bottom: 0;
    }
}

@media (min-width: 1024px) {
    .showreel-wrapper { gap: 70px; }
}

.showreel-frame {
    width: min(75vw, 260px); 
    flex: 0 0 auto;
    scroll-snap-align: center;
}

.showreel-inner {
    position: relative;
    width: 100%;
    aspect-ratio: 3 / 4; /* The visual crop of the container */
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0,0,0,.6);
    transition: transform .6s ease;
    background: #111;
    /* iOS Safari fix to ensure iframe obeys the rounded corners */
    -webkit-mask-image: -webkit-radial-gradient(white, black); 
}

@media (min-width: 768px) {
    .showreel-inner { box-shadow: 0 35px 90px rgba(0,0,0,.7); }
}

@media(hover: hover) {
    .showreel-inner:hover { transform: translateY(-12px); }
}

.showreel-inner iframe {
    position: absolute;
    top: 50%; 
    left: 50%;
    
    /* Force the iframe itself to be exactly 9:16 using a calculated percentage. 
       133.4% of a 3:4 container equals exactly a 9:16 vertical ratio! 
       This completely avoids the buggy 'aspect-ratio' property on iOS Safari */
    width: 100%;
    height: 133.4%; 
    
    border: none;
    /* Center it to crop the overflowing top and bottom cleanly */
    transform: translate(-50%, -50%); 
}

/* ================= PORTFOLIO ================= */
.portfolio-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--grid-gap);
    margin-top: 40px;
}

/* CARD */
.portfolio-item {
    position: relative;
    overflow: hidden;
    border-radius: 20px;
    background: #0a0a0a;
    cursor: pointer;
    border: 1px solid rgba(255,255,255,.08);
    box-shadow: 0 20px 50px rgba(0,0,0,.5);
    transition: transform .6s ease, box-shadow .6s ease;
    
    /* Default mobile aspect ratio to keep it elegant */
    aspect-ratio: 4/5;
}

@media (min-width: 768px) {
    .portfolio-item { border-radius: 24px; }
}

@media(hover: hover) {
    .portfolio-item:hover {
        transform: translateY(-8px);
        box-shadow: 0 40px 110px rgba(0,0,0,.8);
    }
}

.portfolio-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 1.4s ease, filter 1.4s ease;
}

@media(hover: hover) {
    .portfolio-item:hover img {
        transform: scale(1.05);
        filter: brightness(1.05);
    }
}

/* ================= MOBILE SCROLL EFFECTS ================= */
/* Simulates the desktop hover effects when elements enter the center of a touch screen */
@media (hover: none) {
    .showreel-inner.in-view { 
        transform: translateY(-12px); 
    }
    .portfolio-item.in-view {
        transform: translateY(-8px);
        box-shadow: 0 40px 110px rgba(0,0,0,.8);
    }
    .portfolio-item.in-view img {
        transform: scale(1.05);
        filter: brightness(1.05);
    }
}

/* TABLET GRID (2 Columns) */
@media (min-width: 768px) and (max-width: 1023px) {
    .portfolio-grid {
        grid-template-columns: repeat(2, 1fr);
        grid-auto-rows: 350px;
    }
    .portfolio-item { aspect-ratio: unset; }
    
    .item-hero { grid-column: 1 / span 2; grid-row: 1 / span 2; } /* Large top image */
    .item-tall { grid-row: span 2; } /* Tall image */
}

/* DESKTOP GRID (6 Columns Bento) */
@media (min-width: 1024px) {
    .portfolio-grid {
        grid-template-columns: repeat(6, 1fr);
        grid-auto-rows: minmax(220px, auto); /* Allows flexibility based on content */
        gap: var(--grid-gap);
    }
    
    .portfolio-item { aspect-ratio: unset; min-height: 280px; }

    .item-hero { grid-column: 1 / span 4; grid-row: 1 / span 3; }
    .sports { grid-column: 5 / span 2; grid-row: 1 / span 2; }
    .item-tall { grid-column: 5 / span 2; grid-row: 3 / span 3; }
    .product { grid-column: 1 / span 2; grid-row: 4 / span 2; }
    .festivals { grid-column: 3 / span 2; grid-row: 4 / span 2; }
}

/* CROPS */
.portraits img { object-position: 50% 20%; }
.product img {
    object-fit: contain;
    padding: 15px;
    padding-bottom: 90px;
    background: #0a0a0a;
}
@media (min-width: 768px) {
    .product img { padding: 20px; padding-bottom: 110px; }
}

/* OVERLAY */
.item-overlay {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 24px;
    background: linear-gradient(to top, rgba(0,0,0,.95) 10%, rgba(0,0,0,.6) 60%, transparent);
}

@media (min-width: 768px) {
    .item-overlay { padding: 32px; }
}

.item-overlay h3 {
    font-family: "Cormorant Garamond", serif;
    font-size: clamp(1.3rem, 2.5vw, 1.6rem);
    margin-top: 6px;
    line-height: 1.2;
}

.price {
    margin-top: 8px;
    letter-spacing: 1px;
    font-size: .8rem;
    opacity: .85;
    line-height: 1.4;
}

/* ================= CTA ================= */
.cta-btn {
    padding: 16px 28px;
    border-radius: 50px;
    border: 1px solid rgba(255,255,255,.2);
    text-decoration: none;
    color: white;
    font-size: .7rem;
    letter-spacing: 2px;
    transition: .3s;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 50px; /* Better touch target */
    width: 100%;
}

@media (min-width: 480px) {
    .cta-btn { width: auto; padding: 18px 32px; }
}

.cta-btn:hover { background: white; color: black; }

/* ================= LIGHTBOX ================= */
#lightbox {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.98);
    display: none;
    justify-content: center;
    align-items: center;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    z-index: 1000;
    padding: 10px;
}

#lightbox.active { display: flex; }

.lb-image {
    max-width: 100%;
    max-height: 85vh;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.8);
    object-fit: contain;
    user-select: none; /* Prevents text selection on swipe */
    -webkit-user-select: none;
}

@media (min-width: 768px) {
    .lb-image { max-width: 90%; max-height: 90vh; border-radius: 18px; }
}

.lb-btn {
    position: absolute;
    font-size: 30px;
    padding: 10px;
    min-width: 50px;
    min-height: 50px;
    cursor: pointer;
    opacity: .7;
    transition: .3s;
    color: white;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1001;
}

@media (min-width: 768px) {
    .lb-btn { font-size: 40px; padding: 18px; opacity: .6; }
}

.lb-btn:hover { opacity: 1; transform: scale(1.1); }

/* Adjusted positions for mobile touch accessibility */
#prev { left: 5px; top: 50%; transform: translateY(-50%); }
#next { right: 5px; top: 50%; transform: translateY(-50%); }
#close { top: 15px; right: 15px; font-size: 40px; background: rgba(0,0,0,0.3); border-radius: 50%; width: 45px; height: 45px; }

@media (min-width: 768px) {
    #prev { left: 30px; transform: none; }
    #next { right: 30px; transform: none; }
    #close { top: 30px; right: 30px; font-size: 50px; background: transparent; }
}

footer {
    text-align: center;
    padding: 40px 20px 60px 20px;
    opacity: .4;
    letter-spacing: 2px;
    font-size: .75rem;
}
</style>
</head>

<body>

<nav>
    <img src="https://lh3.googleusercontent.com/d/1oBEoO4rF3oUw0M4DH6Z7QKmWl-JivlFG=s200" alt="ShutterPhrase Logo" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'150\' height=\'28\'><text x=\'0\' y=\'20\' fill=\'white\' font-family=\'Cormorant Garamond\' font-size=\'24\'>SHUTTERPHRASE</text></svg>'">
    <div>
        <a href="#portfolio">WORK</a>
        <a href="#contact">CONTACT</a>
        <a href="https://www.instagram.com/shutterphrase.in/" target="_blank">INSTAGRAM</a>
    </div>
</nav>

<section>
    <div class="swipe-hint">Swipe to explore <span>&rarr;</span></div>
    <div class="showreel-wrapper">
        <div class="showreel-frame">
            <div class="showreel-inner">
                <iframe src="https://drive.google.com/file/d/1gy2hENhvnUE52Ox1FPGpgHZc2multqNr/preview" loading="lazy"></iframe>
            </div>
        </div>
        <div class="showreel-frame">
            <div class="showreel-inner">
                <iframe src="https://drive.google.com/file/d/1gYhjAm7YX4pxv51eGxUt_WjRRBakgNfA/preview" loading="lazy"></iframe>
            </div>
        </div>
        <div class="showreel-frame">
            <div class="showreel-inner">
                <iframe src="https://drive.google.com/file/d/1JHGmDjoeWSwHHhzdUM_SCqVbUQZJBYYX/preview" loading="lazy"></iframe>
            </div>
        </div>
    </div>
</section>

<section id="portfolio">
    <div class="portfolio-grid" id="grid"></div>
</section>

<section id="contact" style="text-align:center;">
    <h2>Let’s Build Something Impactful</h2>
    <div style="margin-top:35px; display:flex; gap:15px; justify-content:center; flex-wrap:wrap;">
        <a href="mailto:abhishek@shutterphrase.in" class="cta-btn">EMAIL</a>
        <a href="https://www.instagram.com/shutterphrase.in/" target="_blank" class="cta-btn">INSTAGRAM</a>
    </div>
</section>

<footer>
    © 2026 SHUTTERPHRASE
</footer>

<!-- Lightbox -->
<div id="lightbox">
    <button class="lb-btn" id="close" aria-label="Close Lightbox">&times;</button>
    <button class="lb-btn" id="prev" aria-label="Previous Image">&#10094;</button>
    <img id="lbImg" class="lb-image" src="" alt="Lightbox Image">
    <button class="lb-btn" id="next" aria-label="Next Image">&#10095;</button>
</div>

<!-- Dynamic Grid & Lightbox Logic -->
<script>
document.addEventListener('DOMContentLoaded', () => {

    // Helper function to build direct google drive links
    function img(id){
        return `https://lh3.googleusercontent.com/d/${id}=s1200`;
    }
    
    // Original Content Data
    const data = [
        {
            category: "Portraits",
            title: "Eternal Grace",
            price: "Portrait sessions begin at ₹8,000",
            cover: "1LabVyDvm0d5d7K6S-7ljM-YkNGZrqEvt",
            gridClass: "item-hero portraits",
            images: ["1LabVyDvm0d5d7K6S-7ljM-YkNGZrqEvt","1i_yGBk20gfPnNmnkZi9Mtp4kOjzf2qIh","1r6cvRabydlH5r7gMCt_goJR_leDfrvh5"]
        },
        {
            category: "Sports",
            title: "The Decisive Moment",
            price: "Sports coverage begins at ₹12,000",
            cover: "14QOLFGoqcSiStCe5miofoOjkJED-INtT",
            gridClass: "sports",
            images: ["14QOLFGoqcSiStCe5miofoOjkJED-INtT","1Qca9zh6RFxlAm0oo-CgKu73lyrjOEE_U","1wRTXqWUrRWR-toD6rR_6cUHdYl1Fhztn"]
        },
        {
            category: "Product",
            title: "The Craft",
            price: "Product photography begins at ₹15,000",
            cover: "1wzDtv35e5A89_eYSKA4mmwKtWE3sWv1N",
            gridClass: "product",
            images: ["1wzDtv35e5A89_eYSKA4mmwKtWE3sWv1N","1dSX70LpWAqSgKumPIGnfV145iHl_uYNa","1ArFVKoGRQiiS94EDgEW4AkQO93K1MGTL"]
        },
        {
            category: "Festivals",
            title: "Cultural Pulse",
            price: "Festival coverage begins at ₹18,000",
            cover: "1hZfC_qzPh2EHi6KCTabHnUVQ-XRR5zwW",
            gridClass: "festivals",
            images: ["1hZfC_qzPh2EHi6KCTabHnUVQ-XRR5zwW","1lr660KxM3akw_YVaIlyNwjx9tVMhsJVj","1WDbk-0ZIy4qvl7IBkFcUHXaeDIIWpvkR"]
        },
        {
            category: "Editorial",
            title: "Visual Experiments",
            price: "Editorial shoots begin at ₹25,000",
            cover: "1_uVWOL_oX55K7z3zg2eki87iTuOZVeS-",
            gridClass: "item-tall",
            images: ["1_uVWOL_oX55K7z3zg2eki87iTuOZVeS-","1YxkbKGFWmOrKc-wCi58tyskGS8fycUyz"]
        }
    ];

    const grid = document.getElementById("grid");
    const lightbox = document.getElementById("lightbox");
    const lbImg = document.getElementById("lbImg");

    // 1. Populate the Grid dynamically
    data.forEach(item => {
        let div = document.createElement("div");
        div.className = `portfolio-item ${item.gridClass}`.trim();
        
        div.innerHTML = `
            <img src="${img(item.cover)}" alt="${item.title}" loading="lazy">
            <div class="item-overlay">
                <p class="price" style="text-transform:uppercase; font-size: 0.75rem;">${item.category}</p>
                <h3>${item.title}</h3>
                <p class="price">${item.price}</p>
            </div>
        `;

        div.onclick = () => openLightbox(item.images);
        grid.appendChild(div);
    });

    // 2. Multi-image Lightbox Functionality
    let current = 0;
    let gallery = [];

    function openLightbox(arr) {
        gallery = arr;
        current = 0;
        update();
        lightbox.classList.add("active");
        document.body.style.overflow = 'hidden'; 
    }

    function update() {
        lbImg.src = img(gallery[current]);
    }

    function next() { 
        current = (current + 1) % gallery.length; 
        update(); 
    }
    
    function prev() { 
        current = (current - 1 + gallery.length) % gallery.length; 
        update(); 
    }

    function closeLightbox() {
        lightbox.classList.remove("active");
        document.body.style.overflow = ''; 
        lbImg.src = ''; 
    }

    // 3. Desktop/Click Event Listeners
    document.getElementById("next").onclick = e => { e.stopPropagation(); next(); };
    document.getElementById("prev").onclick = e => { e.stopPropagation(); prev(); };
    document.getElementById("close").onclick = closeLightbox;

    lightbox.onclick = (e) => {
        if(e.target.id === "lightbox") closeLightbox();
    };

    document.addEventListener("keydown", (e) => {
        if (!lightbox.classList.contains("active")) return;
        if (e.key === "ArrowRight") next();
        if (e.key === "ArrowLeft") prev();
        if (e.key === "Escape") closeLightbox();
    });

    // 4. Mobile Touch Swipe Functionality
    let touchStartX = 0;
    let touchEndX = 0;

    lightbox.addEventListener('touchstart', e => {
        touchStartX = e.changedTouches[0].screenX;
    }, {passive: true});

    lightbox.addEventListener('touchend', e => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
    }, {passive: true});

    function handleSwipe() {
        const swipeThreshold = 50; 
        if (touchEndX < touchStartX - swipeThreshold) {
            next(); 
        }
        if (touchEndX > touchStartX + swipeThreshold) {
            prev(); 
        }
    }

    // 5. Mobile Scroll "Hover" Intersections
    // Automatically applies hover effects when items scroll into the center of a touch screen
    if (window.matchMedia("(hover: none)").matches) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                } else {
                    entry.target.classList.remove('in-view');
                }
            });
        }, {
            // Trigger when the element is within the middle 50% of the screen (both X and Y axis)
            rootMargin: '-25% -25% -25% -25%',
            threshold: 0
        });

        // Observe both the grid cards and the showreel frames
        document.querySelectorAll('.portfolio-item, .showreel-inner').forEach(el => {
            observer.observe(el);
        });
    }
});
</script>

</body>
</html>
